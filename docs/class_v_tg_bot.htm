<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VTelegram: VTgBot Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">VTelegram
   </div>
   <div id="projectbrief">Simple yet powerful PHP library for Telegram Bot API</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="class_v_tg_bot-members.htm">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">VTgBot Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Complex solution for creating a Telegram bot.  
 <a href="class_v_tg_bot.htm#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a29a53a8c1a2d737cc412636f3a317d36"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_v_tg_bot.htm#a29a53a8c1a2d737cc412636f3a317d36">enableProxy</a> (string $address, string $port, string $username, string $password)</td></tr>
<tr class="memdesc:a29a53a8c1a2d737cc412636f3a317d36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables SOCKS5 proxy for <a class="el" href="class_v_telegram.htm" title="Class provides an interface for interaction with Telegram Bot API.">VTelegram</a> instance.  <a href="class_v_tg_bot.htm#a29a53a8c1a2d737cc412636f3a317d36">More...</a><br /></td></tr>
<tr class="separator:a29a53a8c1a2d737cc412636f3a317d36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa663e9621467ee6da70570f15d826d66"><td class="memItemLeft" align="right" valign="top"><a id="aa663e9621467ee6da70570f15d826d66"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_v_tg_bot.htm#aa663e9621467ee6da70570f15d826d66">disableProxy</a> ()</td></tr>
<tr class="memdesc:aa663e9621467ee6da70570f15d826d66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables SOCKS5 proxy for <a class="el" href="class_v_telegram.htm" title="Class provides an interface for interaction with Telegram Bot API.">VTelegram</a> instance if enabled. <br /></td></tr>
<tr class="separator:aa663e9621467ee6da70570f15d826d66"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a00cb912c85d791c48853ee851d184cc4"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_v_tg_bot.htm#a00cb912c85d791c48853ee851d184cc4">setToken</a> (string $token)</td></tr>
<tr class="memdesc:a00cb912c85d791c48853ee851d184cc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates stored Bot API token for <a class="el" href="class_v_telegram.htm" title="Class provides an interface for interaction with Telegram Bot API.">VTelegram</a> instance.  <a href="class_v_tg_bot.htm#a00cb912c85d791c48853ee851d184cc4">More...</a><br /></td></tr>
<tr class="separator:a00cb912c85d791c48853ee851d184cc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafa9bc2c06dee2c2b8905c85668e1692"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_v_tg_bot.htm#aafa9bc2c06dee2c2b8905c85668e1692">registerCommandHandler</a> (string $command, callable $handler)</td></tr>
<tr class="memdesc:aafa9bc2c06dee2c2b8905c85668e1692"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a function as a handler for messages containing /commands.  <a href="class_v_tg_bot.htm#aafa9bc2c06dee2c2b8905c85668e1692">More...</a><br /></td></tr>
<tr class="separator:aafa9bc2c06dee2c2b8905c85668e1692"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e848fb69e0ea8cf5049bdc29f8e6678"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_v_tg_bot.htm#a4e848fb69e0ea8cf5049bdc29f8e6678">registerStandardMessageHandler</a> (callable $handler)</td></tr>
<tr class="memdesc:a4e848fb69e0ea8cf5049bdc29f8e6678"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a function as a regular message handler.  <a href="class_v_tg_bot.htm#a4e848fb69e0ea8cf5049bdc29f8e6678">More...</a><br /></td></tr>
<tr class="separator:a4e848fb69e0ea8cf5049bdc29f8e6678"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06754f0844a9d3b36dc15d8e8099d114"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_v_tg_bot.htm#a06754f0844a9d3b36dc15d8e8099d114">registerCallbackQueryHandler</a> (callable $handler)</td></tr>
<tr class="memdesc:a06754f0844a9d3b36dc15d8e8099d114"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a function as a callback query handler.  <a href="class_v_tg_bot.htm#a06754f0844a9d3b36dc15d8e8099d114">More...</a><br /></td></tr>
<tr class="separator:a06754f0844a9d3b36dc15d8e8099d114"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bc55311c5c175b1eba40988adbfb026"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_v_tg_bot.htm#a2bc55311c5c175b1eba40988adbfb026">processUpdateData</a> (array $data)</td></tr>
<tr class="memdesc:a2bc55311c5c175b1eba40988adbfb026"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes JSON-decoded update data from Telegram.  <a href="class_v_tg_bot.htm#a2bc55311c5c175b1eba40988adbfb026">More...</a><br /></td></tr>
<tr class="separator:a2bc55311c5c175b1eba40988adbfb026"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:a6a97af57e2b085315c2dd9cbec8c97f9"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_v_tg_bot.htm#a6a97af57e2b085315c2dd9cbec8c97f9">handleUpdate</a> (<a class="el" href="class_v_tg_update.htm">VTgUpdate</a> $update)</td></tr>
<tr class="memdesc:a6a97af57e2b085315c2dd9cbec8c97f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes an update from Telegram.  <a href="class_v_tg_bot.htm#a6a97af57e2b085315c2dd9cbec8c97f9">More...</a><br /></td></tr>
<tr class="separator:a6a97af57e2b085315c2dd9cbec8c97f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20738d6d7cf1cfd84111fa208b6dcb76"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_v_tg_bot.htm#a20738d6d7cf1cfd84111fa208b6dcb76">handleMessage</a> (<a class="el" href="class_v_tg_message.htm">VTgMessage</a> $message)</td></tr>
<tr class="memdesc:a20738d6d7cf1cfd84111fa208b6dcb76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hadles with a received message.  <a href="class_v_tg_bot.htm#a20738d6d7cf1cfd84111fa208b6dcb76">More...</a><br /></td></tr>
<tr class="separator:a20738d6d7cf1cfd84111fa208b6dcb76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0ed6675b2fe746e56e63d234d108d13"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_v_tg_bot.htm#aa0ed6675b2fe746e56e63d234d108d13">handleCommand</a> (<a class="el" href="class_v_tg_message.htm">VTgMessage</a> $message, string $command, string $data=&quot;&quot;)</td></tr>
<tr class="memdesc:aa0ed6675b2fe746e56e63d234d108d13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hadles with a command if found in message.  <a href="class_v_tg_bot.htm#aa0ed6675b2fe746e56e63d234d108d13">More...</a><br /></td></tr>
<tr class="separator:aa0ed6675b2fe746e56e63d234d108d13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dae3138a194f3f6078d8454b0a221cc"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_v_tg_bot.htm#a3dae3138a194f3f6078d8454b0a221cc">handleCallbackQuery</a> (<a class="el" href="class_v_tg_callback_query.htm">VTgCallbackQuery</a> $callbackQuery)</td></tr>
<tr class="memdesc:a3dae3138a194f3f6078d8454b0a221cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hadles with a callback query.  <a href="class_v_tg_bot.htm#a3dae3138a194f3f6078d8454b0a221cc">More...</a><br /></td></tr>
<tr class="separator:a3dae3138a194f3f6078d8454b0a221cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec033944835319e11cdde5888fb98af0"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_v_tg_bot.htm#aec033944835319e11cdde5888fb98af0">doAction</a> (<a class="el" href="class_v_tg_action.htm">VTgAction</a> $action)</td></tr>
<tr class="memdesc:aec033944835319e11cdde5888fb98af0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes an action.  <a href="class_v_tg_bot.htm#aec033944835319e11cdde5888fb98af0">More...</a><br /></td></tr>
<tr class="separator:aec033944835319e11cdde5888fb98af0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:a065b5085599b11ad61a50271235869a2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_v_telegram.htm">VTelegram</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_v_tg_bot.htm#a065b5085599b11ad61a50271235869a2">$tg</a> = new <a class="el" href="class_v_telegram.htm">VTelegram</a>()</td></tr>
<tr class="memdesc:a065b5085599b11ad61a50271235869a2"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_v_telegram.htm" title="Class provides an interface for interaction with Telegram Bot API.">VTelegram</a> instance for accessing Bot API.  <a href="class_v_tg_bot.htm#a065b5085599b11ad61a50271235869a2">More...</a><br /></td></tr>
<tr class="separator:a065b5085599b11ad61a50271235869a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff6efb87774049a99fa23440a2ac6727"><td class="memItemLeft" align="right" valign="top">static array&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_v_tg_bot.htm#aff6efb87774049a99fa23440a2ac6727">$commands</a> = []</td></tr>
<tr class="memdesc:aff6efb87774049a99fa23440a2ac6727"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array with commands handlers.  <a href="class_v_tg_bot.htm#aff6efb87774049a99fa23440a2ac6727">More...</a><br /></td></tr>
<tr class="separator:aff6efb87774049a99fa23440a2ac6727"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab5377965e3ab8a408c9591aa189084f"><td class="memItemLeft" align="right" valign="top">static callable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_v_tg_bot.htm#aab5377965e3ab8a408c9591aa189084f">$standardMessageHadler</a> = null</td></tr>
<tr class="memdesc:aab5377965e3ab8a408c9591aa189084f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for handling messages if they don't contain /commands.  <a href="class_v_tg_bot.htm#aab5377965e3ab8a408c9591aa189084f">More...</a><br /></td></tr>
<tr class="separator:aab5377965e3ab8a408c9591aa189084f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50dbda2171360fddabd9f6b9fc7cd936"><td class="memItemLeft" align="right" valign="top">static callable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_v_tg_bot.htm#a50dbda2171360fddabd9f6b9fc7cd936">$callbackQueryHandler</a> = null</td></tr>
<tr class="memdesc:a50dbda2171360fddabd9f6b9fc7cd936"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for handling callback queries if needed.  <a href="class_v_tg_bot.htm#a50dbda2171360fddabd9f6b9fc7cd936">More...</a><br /></td></tr>
<tr class="separator:a50dbda2171360fddabd9f6b9fc7cd936"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Complex solution for creating a Telegram bot. </p>
<p>Class provides a complex solution for creating a Telegram bot, including handling for commands, callback queries, inline mode, etc. It is recommended to create a child class for extending your own bot with special functions (e.g. authenticating, API calls to other services, some computing etc.) </p><dl class="todo"><dt><b><a class="el" href="todo.htm#_todo000002">Todo:</a></b></dt><dd>Handlers for inline mode (chosen result), processing with media &amp; captions, sending files, error messages (e.g. command not found) </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="aec033944835319e11cdde5888fb98af0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec033944835319e11cdde5888fb98af0">&#9670;&nbsp;</a></span>doAction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VTgBot::doAction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_v_tg_action.htm">VTgAction</a>&#160;</td>
          <td class="paramname"><em>$action</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">final</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Executes an action. </p>
<p>Algorithm depends on action type: sending or editing a message, calling some function etc. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_v_tg_action.htm" title="Class to reperesents information about actions related to bot to do.">VTgAction</a></td><td class="paramname">$action</td><td>Action to do </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed Result of action execution </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.htm#_todo000003">Todo:</a></b></dt><dd>EDIT_REPLY_MARKUP action </dd></dl>

</div>
</div>
<a id="a29a53a8c1a2d737cc412636f3a317d36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29a53a8c1a2d737cc412636f3a317d36">&#9670;&nbsp;</a></span>enableProxy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VTgBot::enableProxy </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables SOCKS5 proxy for <a class="el" href="class_v_telegram.htm" title="Class provides an interface for interaction with Telegram Bot API.">VTelegram</a> instance. </p>
<p>Requests to Bot API will be made via proxy server </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$address</td><td>Proxy HTTP address </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$port</td><td>Connection port </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td>Username for proxy authentication </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$password</td><td>Password for proxy authentication </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3dae3138a194f3f6078d8454b0a221cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dae3138a194f3f6078d8454b0a221cc">&#9670;&nbsp;</a></span>handleCallbackQuery()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VTgBot::handleCallbackQuery </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_v_tg_callback_query.htm">VTgCallbackQuery</a>&#160;</td>
          <td class="paramname"><em>$callbackQuery</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">final</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hadles with a callback query. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_v_tg_callback_query.htm">VTgCallbackQuery</a></td><td class="paramname">$callbackQuery</td><td>Callback query data received from Telegram </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="class_v_tg_action.htm" title="Class to reperesents information about actions related to bot to do.">VTgAction</a> Action for how to handle with command </dd></dl>

</div>
</div>
<a id="aa0ed6675b2fe746e56e63d234d108d13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0ed6675b2fe746e56e63d234d108d13">&#9670;&nbsp;</a></span>handleCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VTgBot::handleCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_v_tg_message.htm">VTgMessage</a>&#160;</td>
          <td class="paramname"><em>$message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$data</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">final</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hadles with a command if found in message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_v_tg_message.htm">VTgMessage</a></td><td class="paramname">$message</td><td>Message data received from Telegram </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$command</td><td>Command name to handle </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$data</td><td>A part of message following the command </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="class_v_tg_action.htm" title="Class to reperesents information about actions related to bot to do.">VTgAction</a> Action for how to handle with command </dd></dl>

</div>
</div>
<a id="a20738d6d7cf1cfd84111fa208b6dcb76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20738d6d7cf1cfd84111fa208b6dcb76">&#9670;&nbsp;</a></span>handleMessage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VTgBot::handleMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_v_tg_message.htm">VTgMessage</a>&#160;</td>
          <td class="paramname"><em>$message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">final</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hadles with a received message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_v_tg_message.htm">VTgMessage</a></td><td class="paramname">$message</td><td>Message data received from Telegram </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed|bool Result of message handling or false </dd></dl>

</div>
</div>
<a id="a6a97af57e2b085315c2dd9cbec8c97f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a97af57e2b085315c2dd9cbec8c97f9">&#9670;&nbsp;</a></span>handleUpdate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VTgBot::handleUpdate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_v_tg_update.htm">VTgUpdate</a>&#160;</td>
          <td class="paramname"><em>$update</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">final</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processes an update from Telegram. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_v_tg_update.htm">VTgUpdate</a></td><td class="paramname">$update</td><td>Object with data received from Telegram </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed|bool Result of update handling or false </dd></dl>

</div>
</div>
<a id="a2bc55311c5c175b1eba40988adbfb026"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bc55311c5c175b1eba40988adbfb026">&#9670;&nbsp;</a></span>processUpdateData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VTgBot::processUpdateData </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">final</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processes JSON-decoded update data from Telegram. </p>
<p>You should pass an associative array with data received from Telegram (with Webhook or Long-poll). For example, you can use it like this: </p><div class="fragment"><div class="line">$json = file_get_contents(<span class="stringliteral">&#39;php://input&#39;</span>);</div>
<div class="line">$data = json_decode($json, <span class="keyword">true</span>);</div>
<div class="line"><a class="code" href="class_v_tg_bot.htm#a2bc55311c5c175b1eba40988adbfb026">VTgBot::processUpdateData</a>($data);</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$data</td><td>Array with JSON-decoded update data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed|bool Result of update handling or false </dd></dl>

</div>
</div>
<a id="a06754f0844a9d3b36dc15d8e8099d114"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06754f0844a9d3b36dc15d8e8099d114">&#9670;&nbsp;</a></span>registerCallbackQueryHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VTgBot::registerCallbackQueryHandler </td>
          <td>(</td>
          <td class="paramtype">callable&#160;</td>
          <td class="paramname"><em>$handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">final</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Registers a function as a callback query handler. </p>
<p>A handler will be passed <a class="el" href="class_v_tg_callback_query.htm">VTgCallbackQuery</a> object. Then, it must return <a class="el" href="class_v_tg_action.htm" title="Class to reperesents information about actions related to bot to do.">VTgAction</a> object. So you can use it like this: </p><div class="fragment"><div class="line"><a class="code" href="class_v_tg_bot.htm#a06754f0844a9d3b36dc15d8e8099d114">VTgBot::registerCallbackQueryHandler</a>(<span class="keyword">function</span> (<a class="code" href="class_v_tg_callback_query.htm">VTgCallbackQuery</a> $callbackQuery) {</div>
<div class="line">  $newText = <span class="stringliteral">&#39;Callback data: &#39;</span> . $callbackQuery-&gt;data;</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code" href="class_v_tg_action.htm#a5e5bd8f678e4a58f970a7cdbbf5cf584">VTgAction::editMessage</a>($message-&gt;chat-&gt;id, $message-&gt;id, $newText);</div>
<div class="line">});</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">callable</td><td class="paramname">$handler</td><td>Standard message handler (function(VTgMessage):<a class="el" href="class_v_tg_action.htm" title="Class to reperesents information about actions related to bot to do.">VTgAction</a>) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aafa9bc2c06dee2c2b8905c85668e1692"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafa9bc2c06dee2c2b8905c85668e1692">&#9670;&nbsp;</a></span>registerCommandHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VTgBot::registerCommandHandler </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">callable&#160;</td>
          <td class="paramname"><em>$handler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">final</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Registers a function as a handler for messages containing /commands. </p>
<p>A handler will be passed: <a class="el" href="class_v_tg_message.htm">VTgMessage</a> object as first parameter, string (part of message following the command) as second parameter. Then, it must return <a class="el" href="class_v_tg_action.htm" title="Class to reperesents information about actions related to bot to do.">VTgAction</a> object. So you can use it like this: </p><div class="fragment"><div class="line"><a class="code" href="class_v_tg_bot.htm#aafa9bc2c06dee2c2b8905c85668e1692">VTgBot::registerCommandHandler</a>(<span class="stringliteral">&#39;hello&#39;</span>, <span class="keyword">function</span> (<a class="code" href="class_v_tg_message.htm">VTgMessage</a> &amp;$message, <span class="keywordtype">string</span> $data) {</div>
<div class="line">  $answer = <span class="stringliteral">&#39;Hello, &#39;</span> . $message-&gt;chat-&gt;id;</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code" href="class_v_tg_action.htm#a61d095c2ff993d3030d30ed429e02a34">VTgAction::sendMessage</a>($message-&gt;chat-&gt;id, $answer);</div>
<div class="line">});</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$command</td><td>Command you want to handle (don't mention '/', e.g. 'help', not '/help') </td></tr>
    <tr><td class="paramtype">callable</td><td class="paramname">$handler</td><td>Command handler (function(VTgMessage, string):<a class="el" href="class_v_tg_action.htm" title="Class to reperesents information about actions related to bot to do.">VTgAction</a>) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4e848fb69e0ea8cf5049bdc29f8e6678"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e848fb69e0ea8cf5049bdc29f8e6678">&#9670;&nbsp;</a></span>registerStandardMessageHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VTgBot::registerStandardMessageHandler </td>
          <td>(</td>
          <td class="paramtype">callable&#160;</td>
          <td class="paramname"><em>$handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">final</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Registers a function as a regular message handler. </p>
<p>Registers a function to handle with any messages or (if command handlers were set) with messages without commands. A handler will be passed <a class="el" href="class_v_tg_message.htm">VTgMessage</a> object. Then, it must return <a class="el" href="class_v_tg_action.htm" title="Class to reperesents information about actions related to bot to do.">VTgAction</a> object. So you can use it like this: </p><div class="fragment"><div class="line"><a class="code" href="class_v_tg_bot.htm#a4e848fb69e0ea8cf5049bdc29f8e6678">VTgBot::registerStandardMessageHandler</a>(<span class="keyword">function</span> (<a class="code" href="class_v_tg_message.htm">VTgMessage</a> &amp;$message) {</div>
<div class="line">  $answer = <span class="stringliteral">&#39;You sent me: &#39;</span> . $message-&gt;text;</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code" href="class_v_tg_action.htm#a61d095c2ff993d3030d30ed429e02a34">VTgAction::sendMessage</a>($message-&gt;chat-&gt;id, $answer);</div>
<div class="line">});</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">callable</td><td class="paramname">$handler</td><td>Standard message handler (function(VTgMessage):<a class="el" href="class_v_tg_action.htm" title="Class to reperesents information about actions related to bot to do.">VTgAction</a>) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a00cb912c85d791c48853ee851d184cc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00cb912c85d791c48853ee851d184cc4">&#9670;&nbsp;</a></span>setToken()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VTgBot::setToken </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$token</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">final</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates stored Bot API token for <a class="el" href="class_v_telegram.htm" title="Class provides an interface for interaction with Telegram Bot API.">VTelegram</a> instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$token</td><td>New Bot API token </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a50dbda2171360fddabd9f6b9fc7cd936"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50dbda2171360fddabd9f6b9fc7cd936">&#9670;&nbsp;</a></span>$callbackQueryHandler</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">callable VTgBot::$callbackQueryHandler = null</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function for handling callback queries if needed. </p>
<p>Handler must have a special header format, see <a class="el" href="class_v_tg_bot.htm#a06754f0844a9d3b36dc15d8e8099d114" title="Registers a function as a callback query handler.">registerCallbackQueryHandler()</a> </p>

</div>
</div>
<a id="aff6efb87774049a99fa23440a2ac6727"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff6efb87774049a99fa23440a2ac6727">&#9670;&nbsp;</a></span>$commands</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">array VTgBot::$commands = []</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Array with commands handlers. </p>
<p>Each handler (being a callable type) must have a special header format, see <a class="el" href="class_v_tg_bot.htm#aafa9bc2c06dee2c2b8905c85668e1692" title="Registers a function as a handler for messages containing /commands.">registerCommandHandler()</a> </p>

</div>
</div>
<a id="aab5377965e3ab8a408c9591aa189084f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab5377965e3ab8a408c9591aa189084f">&#9670;&nbsp;</a></span>$standardMessageHadler</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">callable VTgBot::$standardMessageHadler = null</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function for handling messages if they don't contain /commands. </p>
<p>Handler must have a special header format, see <a class="el" href="class_v_tg_bot.htm#a4e848fb69e0ea8cf5049bdc29f8e6678" title="Registers a function as a regular message handler.">registerStandardMessageHandler()</a> </p>

</div>
</div>
<a id="a065b5085599b11ad61a50271235869a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a065b5085599b11ad61a50271235869a2">&#9670;&nbsp;</a></span>$tg</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_v_telegram.htm">VTelegram</a> VTgBot::$tg = new <a class="el" href="class_v_telegram.htm">VTelegram</a>()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="class_v_telegram.htm" title="Class provides an interface for interaction with Telegram Bot API.">VTelegram</a> instance for accessing Bot API. </p>
<p>If you want to use it on your methods, extend this class using inheritance </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/VTgBot.php</li>
</ul>
</div><!-- contents -->
<div class="ttc" id="aclass_v_tg_action_htm_a61d095c2ff993d3030d30ed429e02a34"><div class="ttname"><a href="class_v_tg_action.htm#a61d095c2ff993d3030d30ed429e02a34">VTgAction\sendMessage</a></div><div class="ttdeci">static sendMessage($chatId, string $text, array $extraParameters=[])</div><div class="ttdoc">Creates &quot;Send message&quot; action.</div><div class="ttdef"><b>Definition:</b> VTgAction.php:129</div></div>
<div class="ttc" id="aclass_v_tg_message_htm"><div class="ttname"><a href="class_v_tg_message.htm">VTgMessage</a></div><div class="ttdef"><b>Definition:</b> VTgMessage.php:8</div></div>
<div class="ttc" id="aclass_v_tg_bot_htm_a06754f0844a9d3b36dc15d8e8099d114"><div class="ttname"><a href="class_v_tg_bot.htm#a06754f0844a9d3b36dc15d8e8099d114">VTgBot\registerCallbackQueryHandler</a></div><div class="ttdeci">static registerCallbackQueryHandler(callable $handler)</div><div class="ttdoc">Registers a function as a callback query handler.</div><div class="ttdef"><b>Definition:</b> VTgBot.php:122</div></div>
<div class="ttc" id="aclass_v_tg_bot_htm_a4e848fb69e0ea8cf5049bdc29f8e6678"><div class="ttname"><a href="class_v_tg_bot.htm#a4e848fb69e0ea8cf5049bdc29f8e6678">VTgBot\registerStandardMessageHandler</a></div><div class="ttdeci">static registerStandardMessageHandler(callable $handler)</div><div class="ttdoc">Registers a function as a regular message handler.</div><div class="ttdef"><b>Definition:</b> VTgBot.php:105</div></div>
<div class="ttc" id="aclass_v_tg_callback_query_htm"><div class="ttname"><a href="class_v_tg_callback_query.htm">VTgCallbackQuery</a></div><div class="ttdef"><b>Definition:</b> VTgCallbackQuery.php:7</div></div>
<div class="ttc" id="aclass_v_tg_bot_htm_aafa9bc2c06dee2c2b8905c85668e1692"><div class="ttname"><a href="class_v_tg_bot.htm#aafa9bc2c06dee2c2b8905c85668e1692">VTgBot\registerCommandHandler</a></div><div class="ttdeci">static registerCommandHandler(string $command, callable $handler)</div><div class="ttdoc">Registers a function as a handler for messages containing /commands.</div><div class="ttdef"><b>Definition:</b> VTgBot.php:87</div></div>
<div class="ttc" id="aclass_v_tg_action_htm_a5e5bd8f678e4a58f970a7cdbbf5cf584"><div class="ttname"><a href="class_v_tg_action.htm#a5e5bd8f678e4a58f970a7cdbbf5cf584">VTgAction\editMessage</a></div><div class="ttdeci">static editMessage($chatId, int $messageId, string $text, array $extraParameters=[])</div><div class="ttdoc">Creates &quot;Edit regular message&quot; action.</div><div class="ttdef"><b>Definition:</b> VTgAction.php:142</div></div>
<div class="ttc" id="aclass_v_tg_bot_htm_a2bc55311c5c175b1eba40988adbfb026"><div class="ttname"><a href="class_v_tg_bot.htm#a2bc55311c5c175b1eba40988adbfb026">VTgBot\processUpdateData</a></div><div class="ttdeci">static processUpdateData(array $data)</div><div class="ttdoc">Processes JSON-decoded update data from Telegram.</div><div class="ttdef"><b>Definition:</b> VTgBot.php:139</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
